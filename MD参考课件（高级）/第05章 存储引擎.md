# 1. 概述 
> 为了管理方便，人们把连接管理、查询缓存、语法解析、查询优化这些并不涉及真实数据存储的功能划分为MySQL server 的功能，把真实存取数据的功能划分为存储引擎的功能。所以在MySQL server完成了查询优化后，只需按照生成的执行计划调用底层存储引擎提供的API，获取到数据后返回给客户端就好了。

> MySQL中提到了存储引擎的概念。简而言之，存储引擎就是指表的类型。其实存储引擎以前叫做表处理器，后来改名为存储引擎，它的功能就是接收上层传下来的指令，然后对表中的数据进行提取或写入操作。

## 🔧 一、MySQL 架構的分層概念

MySQL 其實是**分層架構設計**的，主要分成兩層：

| 層級 | 功能 |
|------|------|
| **MySQL Server 層** | 負責處理與資料儲存**無關**的事，如：連線管理、查詢語法解析、查詢優化、快取、權限控制等 |
| **儲存引擎層（Storage Engine）** | 負責實際**存取數據**的動作，像是讀取/寫入磁碟、索引處理等 |

🔸 **簡單理解**：  
你可以把 MySQL Server 想像成一位主管，他接收指令、擬定執行計畫後，會把工作交給實際處理數據的工人──「存儲引擎」來執行。

---

## 🗃️ 二、什麼是「存儲引擎」？

### ✔ 定義：
「存儲引擎」就像是資料表的「內部處理方式」，決定了該表的資料**如何儲存、索引如何建立、是否支援交易（transaction）、鎖機制是什麼、是否支援全文搜尋等等功能**。

### ✔ 常見引擎：

| 引擎名稱 | 特點 |
|----------|------|
| **InnoDB** | 支援交易（ACID）、行鎖、外鍵，現代MySQL預設引擎 |
| **MyISAM** | 不支援交易，查詢速度快，適合讀多寫少的應用 |
| **Memory** | 資料儲存在記憶體中，速度超快，但重啟資料就會消失 |
| **CSV** | 將表資料儲存為CSV格式，方便匯出與交換資料 |

---

## 🧪 三、範例說明

### 🎯 1. 建立不同儲存引擎的表

```sql
-- 建立 InnoDB 表（支援交易）
CREATE TABLE users_innodb (
  id INT PRIMARY KEY,
  name VARCHAR(50)
) ENGINE = InnoDB;

-- 建立 MyISAM 表（不支援交易）
CREATE TABLE users_myisam (
  id INT PRIMARY KEY,
  name VARCHAR(50)
) ENGINE = MyISAM;
```

### 🧪 2. 測試交易支持

```sql
-- 開始交易（僅 InnoDB 有效）
START TRANSACTION;
INSERT INTO users_innodb VALUES (1, '小明');
ROLLBACK;  -- 回滾後，資料不會寫入

SELECT * FROM users_innodb;  -- 結果為空

-- 如果你這麼做在 MyISAM 表：
START TRANSACTION;
INSERT INTO users_myisam VALUES (1, '小明');
ROLLBACK;

SELECT * FROM users_myisam;  -- 還是會看到「小明」 => 因為 MyISAM 不支援交易
```

---

## 🧠 小結

| 分類 | 說明 |
|------|------|
| MySQL Server | 負責處理邏輯操作與查詢計畫（像是「要查什麼資料」） |
| 儲存引擎 | 實際執行對磁碟中表的操作（像是「去哪裡拿資料」） |
| 儲存引擎 = 表類型 | 每個表可以指定不同儲存引擎，選擇會影響效能、功能、可靠性等 |

---

# 2.查看存储引擎
從這裡開始

# 3. 